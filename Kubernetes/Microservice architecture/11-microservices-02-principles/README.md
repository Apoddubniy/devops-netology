## Ответ на домашнее задание к 11-02 «Микросервисы: принципы»  

### Задача 1: API Gateway

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:

* маршрутизация запросов к нужному сервису на основе конфигурации,
* возможность проверки аутентификационной информации в запросах,
* обеспечение терминации HTTPS.

Обоснуйте свой выбор.

### Ответ:

| Решение             | Маршрутизация | Аутентификация | Терминация HTTPS |                                              
|---------------------|---------------|----------------|------------------|
| Kong Gateway        | +             | +              | +                |
| Tyk.io              | +             | +              | +                |
| KrakenD             | +             | +              | +                |
| Gravitee            | + | + | + |                                                               
| Apache APISIX API   | + | +| +|
| WSO2 API Manager (Choreo Connect) | + | + | + |

Решений большое количество и все их приводить в таблице не имеет большого смысла. Достаточно взять самые популярные из них.

При отсутствии опыта работы с API шлюзами, пришлось воспользоваться [статьей на хабре](https://habr.com/ru/articles/665558/), и на основании этой статьи выбираем "gravitee".


### Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:

* поддержка кластеризации для обеспечения надёжности,
* хранение сообщений на диске в процессе доставки,
* высокая скорость работы,
* поддержка различных форматов сообщений,
* разделение прав доступа к различным потокам сообщений,
* простота эксплуатации.

Обоснуйте свой выбор

### Ответ:

| Характеристика \ Брокер                               | Kafka | Redis | RabbitMQ | ActiveMQ | Nats |
|-------------------------------------------------------|-------|-------|----------|----------|------|
| Поддержка кластеризации для обеспечения надежности    | +     | +     | +        | +        | +    |
| Хранение сообщений на диске в процессе доставки       | +     | -     | +        | +        | -    |
| Высокая скорость работы                               | +     | +     | +        | -        | +    |
| Поддержка различных форматов сообщений                | +     | +     | +        | +        | +    |
| Разделение прав доступа к различным потокам сообщений | +     | +     | +        | +        | +    |
| Простота эксплуатации                                 | +     | +     | +        | +        | +    |

Лучшие варианты это Kafka или RabbitMQ. Решение будет зависеть от того, что является приоритетом, на какие параметры нужно обратить внимание, 
а какие параметры можно считать второстепенными. Выбор конечного решения будет зависеть от задач сервиса.


